@model Event.ViewModels.DadosModulo
@{
    ViewBag.Title = "TodosModulos";
    var usuario = Model.Usuario;
}

<h2>Lista de Todos os Módulos</h2>

<div id="tablePc" class="container" style="display: none">
    <table class="table">
        <tr>
            <th>Nome</th>
            <th>Data</th>
            <th>Descrição</th>
            <th>Inicio</th>
            <th>Fim</th>
            <th>Vagas</th>
            <th>Evento</th>
            <th>Convidar Usuario</th>
            <th>Modificar Modulo</th>
            <th>Inativar Modulo</th>
        </tr>
        @foreach (var i in Model.Modulos)
        {
            <tr>
                <td>@i.Nome</td>
                <td>@i.Data.ToShortDateString()</td>
                <td>@i.Descricao</td>
                <td>@i.Inicio</td>
                <td>@i.Fim</td>
                <td>@i.Vagas</td>
                <td>@i.Evento.Nome</td>
                @if (i.Evento.Organizador == usuario)
                {
                    <td><button class="btn btn glyphicon glyphicon-userplus" onclick="location.href='../Modulo/ConvidarUsuario/@i.Id';"></button></td>
                    <td><button class="btn btn glyphicon glyphicon-refresh" onclick="location.href='../Modulo/AlterarModulo/@i.Id';"></button></td>
                    <td><button class="btn btn glyphicon glyphicon-trash" onclick="location.href='../Modulo/InativarModulo/@i.Id';"></button></td>
                }
                else
                {
                    <td></td>
                    <td></td>
                    <td></td>
                }
            </tr>
        }
    </table>
</div>

<div id="tableCel" style="display: none">
    <table class="table">
        <tr>
            <th>Nome</th>
            <th>Data</th>
            <th>Inicio</th>
            <th>Convidar Usuario</th>
        </tr>
        @foreach (var i in Model.Modulos)
        {
            <tr>
                <td>@i.Nome</td>
                <td>@i.Data.ToShortDateString()</td>
                <td>@i.Inicio</td>
                @if (i.Evento.Organizador == usuario)
                {
                    <td><button class="btn btn glyphicon glyphicon-userplus" onclick="location.href='../Modulo/ConvidarUsuario/@i.Id';"></button></td>
                }
                else
                {
                    <td></td>
                }
            </tr>
        }
    </table>
</div>
@section scripts
{
    <script>
        jQuery(document).ready(function ($) {
            var deviceAgent = navigator.userAgent.toLowerCase();
            var agentID = deviceAgent.match(/(iphone|ipod|ipad|android)/);

            if (agentID) {
                document.getElementById('tableCel').style.display = "block";

            } else {
                document.getElementById('tablePc').style.display = "block";
            }
        });
    </script>
}